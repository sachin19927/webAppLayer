<p>Library {{libraryStatus | async}}</p>

<input type="text" [(ngModel)]="filterByKeyValue"/>
<br>
<button (click)="addBooks()">Add Book</button>
<br>
<div *ngFor="let book of books | dataFilter:filterByKeyValue:'author' ">
  <p>{{book.id}}--
    {{book.name | wordShortner:12 |uppercase }} --
    {{book.category}} --
    {{book.author | uppercase  }} --
    {{book.year}}|{{book.publishedDate | date:'fullDate' }} --
    {{book.price | currency:'USD' }} --
    <a [routerLink]="['/library/view',book.id]"
    [queryParams]="{'allwedTo':true}"
    fragment="loading"
    >View</a>
  <button (click)="loadBookToEdit(book.id)">Edit</button>
  </p>
</div>

<mat-table
      [dataSource]="books" >
  <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay">
   <mat-header-cell *matHeaderCellDef> {{column}} </mat-header-cell>
   <!-- <mat-cell *matCellDef="let element"> {{element[column]}} </mat-cell> -->
 </ng-container>

 <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>

</mat-table>
